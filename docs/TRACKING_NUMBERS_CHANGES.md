# üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–æ–º–µ—Ä–æ–≤ –∑–∞–∫–∞–∑–æ–≤

## ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

### 1. **–§–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–æ–≤ –∑–∞–∫–∞–∑–æ–≤**
- **–ë—ã–ª–æ**: `generateOrderNumber(driverId)` - —Å–ª—É—á–∞–π–Ω—ã–µ —á–∏—Å–ª–∞
- **–°—Ç–∞–ª–æ**: `WT{driverId}-{orderId}` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

#### `src/app/api/telegram/webhook/route.ts`
```typescript
// –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è generateOrderNumber()
// –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç:
const trackingNumber = `WT${driverId}-${orderId}`;
```

#### `src/app/api/orders/route.ts`
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
function generateTrackingNumber(driverId: number, orderId: string): string {
  return `WT${driverId}-${orderId}`;
}
```

### 3. **–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–æ–≤:**
```
WT5450018125-1734567890123
‚îú‚îÄ‚îÄ WT - –ø—Ä–µ—Ñ–∏–∫—Å Velta Trans
‚îú‚îÄ‚îÄ 5450018125 - ID –≤–æ–¥–∏—Ç–µ–ª—è –≤ Telegram  
‚îî‚îÄ‚îÄ 1734567890123 - –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ (timestamp)
```

### 4. **–£–ª—É—á—à–µ–Ω–∏—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö:**
- –ù–æ–º–µ—Ä–∞ –≤—ã–¥–µ–ª–µ–Ω—ã —Ç–µ–≥–æ–º `<code>` –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –§–æ—Ä–º–∞—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö (–≤–æ–¥–∏—Ç–µ–ª—é, –≤ –∫–∞–Ω–∞–ª)
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –≤–æ –≤—Å–µ—Ö API endpoints

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:

‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π –Ω–æ–º–µ—Ä —É–Ω–∏–∫–∞–ª–µ–Ω  
‚úÖ **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ ID –≤–æ–¥–∏—Ç–µ–ª—è  
‚úÖ **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ** - –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∑–∞–∫–∞–∑ –≤ —Å–∏—Å—Ç–µ–º–µ  
‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –Ω–æ–º–µ—Ä–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–í–æ–¥–∏—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è** ‚Üí –ø–æ–ª—É—á–∞–µ—Ç Telegram ID
2. **–°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–∫–∞–∑** ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID  
3. **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–æ–º–µ—Ä** ‚Üí `WT{driverId}-{orderId}`
4. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** ‚Üí –≤–æ–¥–∏—Ç–µ–ª—é –∏ –≤ –∫–∞–Ω–∞–ª
5. **–ö–ª–∏–µ–Ω—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç** ‚Üí –ø–æ –Ω–æ–º–µ—Ä—É –∑–∞–∫–∞–∑–∞

## üì± –ü—Ä–∏–º–µ—Ä—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

### –í–æ–¥–∏—Ç–µ–ª—é:
```
üéâ –í–∞—Å –≤—ã–±—Ä–∞–ª–∏!
–ó–∞–∫–∞–∑: –ê–ª–º–∞—Ç—ã ‚Üí –ü–µ–∫–∏–Ω
–¶–µ–Ω–∞: 150,000 —Ç–µ–Ω–≥–µ
–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: WT5450018125-1734567890123
```

### –í –∫–∞–Ω–∞–ª:
```
‚úÖ –ó–∞–∫–∞–∑ 1734567890123 –∑–∞–∫—Ä—ã—Ç!
–ù–æ–º–µ—Ä –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è: WT5450018125-1734567890123
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

- **–ü—Ä–µ—Ñ–∏–∫—Å**: `WT` (Velta Trans)
- **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å**: `-` (–¥–µ—Ñ–∏—Å)
- **ID –≤–æ–¥–∏—Ç–µ–ª—è**: Telegram user ID (—á–∏—Å–ª–æ)
- **ID –∑–∞–∫–∞–∑–∞**: timestamp –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ (—Å—Ç—Ä–æ–∫–∞)
- **–î–ª–∏–Ω–∞**: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç ID –≤–æ–¥–∏—Ç–µ–ª—è –∏ –∑–∞–∫–∞–∑–∞

## ‚úÖ –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- [x] –û–±–Ω–æ–≤–ª–µ–Ω Telegram webhook API
- [x] –û–±–Ω–æ–≤–ª–µ–Ω Orders API  
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å –Ω–æ–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –Ω–æ–º–µ—Ä–æ–≤!** üéâ
